%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%     enunciado.tex:    Enunciado de la práctica 2 de GIEAI-Informática
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[english,a4paper,11pt]{article}

\usepackage[latin1]{inputenc}  % codificación de caracteres de este archivo
\usepackage[spanish]{babel}    % Traducir: ``abstract'' ---> ``resumen''   etc.
\usepackage{fancyhdr}          % páginas con cabecera y pie
\usepackage{listings}          % listados de código fuente
\usepackage{float}             % para que los listados floten como las figuras
\usepackage{vmargin}           % ajuste de márgenes fácil de usar
\usepackage[T1]{fontenc}       % meter fuentes vectoriales
\usepackage{graphicx}          % figuras
\usepackage{upquote}           % comilla recta con \textquotesingle
\usepackage{placeins}          % orden \FloatBarrier para mantener figuras a raya

\usepackage[implicit=false]{hyperref}  % enlaces web (el parámetro implicit=false
                                       % evita problemas con el # de #include etc.)
                                       % uso explícito: \href[options]{URL}{text}
                                       %                \url{URL}

% mis abreviaturas
\newcommand{\C}{\texttt{C}}            % escribirá \C en lugar de \texttt{C}
\newcommand{\Pascal}{\texttt{Pascal}}  % idem con \Pascal ...
\newcommand{\fun}[1]{\texttt{#1()}}    % "\fun{main}" ---> "main()" en letra typewriter
\newcommand{\hex}[1]{\texttt{#1}$_{hex}$}
\newcommand{\bin}[1]{\texttt{#1}$_{bin}$}
\newcommand{\enesimo}{\mbox{n-ésimo}}
\newcommand{\muvision}{\textit{$\mu\!$Vision4}}
\newcommand{\keilmuvision}{\textit{Keil}~\muvision}
\newcommand{\codigo}[1]{\texttt{#1}}
\newcommand{\menu}[1]{\textit{#1}}

% Órdenes para alternar entre el estilo español (ligera separación extra
% entre párrafos) y el estilo por defecto (párrafos junticos junticos)
\newcommand{\parrafosjuntos}{\setlength{\parskip}{0pt}}
\newcommand{\parrafosseparados}{\setlength{\parskip}{1.5ex plus 0.6ex minus 0.5ex}}

% datos importantes del documento
\newcommand{\titulo}{Práctica 4: Excepciones, E/S y colecciones}     % <<--- TÍTULO
\newcommand{\fecha}{Semana de laboratorio 4}                         % <<--- TEMA
\newcommand{\asignatura}{Tecnología de Videojuegos}
\newcommand{\institucion}{UAH, Departamento de Automática, ATC-SOL}
\newcommand{\paginaweb}{http://atc1.aut.uah.es}

% portada
\title{\asignatura \\ \titulo}
\author{\institucion \\ \url{\paginaweb}}
\date{\fecha}

% márgenes un poco más finos
\setmargrb{25mm}{20mm}{25mm}{20mm}    % left, top, right, bottom

% encabezado y pie
\pagestyle{fancy}
\lhead{\footnotesize \parbox{11cm}{\asignatura}}
\lfoot{\footnotesize \parbox{11cm}{\institucion}}
\cfoot{}
\rhead{\footnotesize \titulo}
\rfoot{\footnotesize Página \thepage}
\renewcommand{\headheight}{24pt}
\renewcommand{\footrulewidth}{0.4pt}
%\renewcommand{\headrulewidth}{0pt}

% listados de código fuente flotantes
%\newfloat{floatlisting}{h}{}
%\floatname{floatlisting}{Listado}

% estilo de los listados de código
\lstset{numbers=left,                 % números de línea
        numberstyle=\tiny,            % tamaño de los num. de línea
        extendedchars=true,           % acentos, eñes...
        %frame=single,                 % marco que encuadra al listado
        basicstyle=\footnotesize\ttfamily,   % tipo de letra
        showstringspaces=false}       % no mostrar espacios de las cadenas

\graphicspath{{figs/}}                % ruta de las figuras

\begin{document} % ------------------ Aquí empieza el documento ----------------------

% redefinir el nombre de algunas cosas
\renewcommand{\tablename}{Tabla}                  % mejor "Tabla" que "Cuadro"
\renewcommand{\listtablename}{Indice de tablas}
% definidos originalmene en:
%/usr/share/texmf-texlive/tex/generic/babel/spanish.ldf

\maketitle              % montar el título aquí­ con los parámetros definidos arriba
\thispagestyle{empty}   % no poner número de página ni nada de nada en la 1ª página

\renewcommand{\abstractname}{}         % eliminar "Resumen"
\begin{abstract}                       % resumen (sin la palabra "Resumen")
\noindent \textbf{Objetivos:}
\begin{itemize}
\item Practicar la E/S elemental con Java
\item Practicar el manejo de excepciones en Java
\item Manejar a nivel básico las listas en Java
\item Desarrollar buenos hábitos de programación
\item Afianzar la comprensión de POO
\end{itemize}
\end{abstract}

\sloppy              % hacer más flexible el cálculo del espacio entre palabras para
                     % evitar errores de tipo "overfull box"
                     % (lo contrario de \sloppy es \fussy)

\parrafosseparados   % separación entre párrafos (por defecto saldrán pegados)

\subsection*{Comentario inicial}
En esta práctica se ampliará la práctica anterior añadiendo nuevas funciones. En programación, siempre hay que partir de programas sencillos y funcionales para ir añadiendo complejidad poco a poco. Ésta será la filosofía que se siga.

\subsection*{Ejercicio 1}
Modifique el constructor de la clase \texttt{Personaje} para que pregunte al usuario el nombre del personaje.

\subsection*{Ejercicio 2}
Modifique la clase \texttt{Personaje} para que cada personaje pueda tener un inventario de armas. Defina un nuevo atributo de la siguiente manera:

\texttt{private List<Arma> inventario = new LinkedList<Arma>();}

Junto con los siguientes métodos:

\begin{enumerate}
\item \texttt{imprimirInventario(Arma arma)}: Imprime por pantalla el inventario de armas. Para ahorrar código haga uso del método \texttt{toString()} iterando sobre los elementos de la lista \texttt{inventario}.
\item \texttt{tomarArma(Arma arma)}: Añade un nuevo arma al inventario.
\item \texttt{seleccionarArma(String arma)}: Selecciona un arma, para ello tendrá que buscar dentro del inventario el arma con el nombre dado. El arma seleccionada es el contenido del campo \texttt{arma}, dentro de la clase \texttt{Personaje}.
\item \texttt{soltarArma(String arma)}: Borra un arma del inventario.
\end{enumerate}

Preguntas: ¿A qué clases afecta la incorporación del inventario? ¿cómo las afecta?

\subsection*{Ejercicio 3}
Cree una nueva clase \texttt{Juego} que va a implementar la lógica principal del juego. El juego es muy sencillo: Se pregunta qué tipo de personaje quiere encarnar el jugador, y se crea el objeto correspondiente guardándolo en el atributo \texttt{jugador}. Se le asigna un arma. Posteriormente se crean tres enemigos, uno de cada tipo, y se guardan dentro de una lista en el atributo \texttt{enemigos}. Por último, se simula el combate del jugador contra los tres enemigos.

Para facilitar la modularidad, se pide implementar los siguientes métodos:

\begin{enumerate}
\item \texttt{nuevaPartida()}: Inicializa los campos \texttt{jugador} y \texttt{enemigos}
\item \texttt{reiniciar()}: Borra los campos \texttt{jugador} y \texttt{enemigos}. Se invoca al terminar una partida.
\item \texttt{iniciarJuego()}: Simula el combate entre el jugador y los enemigos.
\end{enumerate}

El punto de entrada del juego es el método \texttt{main()} de la clase \texttt{Juego}, ahí se crea un objeto de la clase \texttt{Juego}, se muestra un menú al usuario ofreciendole empezar una partida o terminar, e invoca a los métodos de la clase \texttt{Juego} necesarios.

La figura~\ref{fig:juego} muestra el diagrama de clases a implementar.

\begin{figure}
  \centering
  \includegraphics[width=\textwidth]{figs/juego}
  \caption{Diagrama de clases UML a implementar.}
  \label{fig:juego}
\end{figure}

\end{document} 
